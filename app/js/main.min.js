let isScrolling=!1;function throttleScroll(e){0==isScrolling&&window.requestAnimationFrame((function(){scrolling(e),isScrolling=!1})),isScrolling=!0}window.addEventListener("scroll",throttleScroll,!1),document.addEventListener("DOMContentLoaded",scrolling,!1);let wrapbox3=document.querySelector(".wrap-box3"),wrapbox4=document.querySelector(".wrap-box4"),wrapbox5=document.querySelector(".wrap-box5"),wrapbox6=document.querySelector(".wrap-box6"),bgVideo=document.querySelector(".background-video"),bgImage=document.querySelector(".background-img");function scrolling(){isFullyVisible(wrapbox3)?(wrapbox3.classList.add("active"),bgVideo.classList.add("opacity_1"),bgVideo.classList.remove("opacity_0"),bgImage.classList.add("opacity_1"),bgImage.classList.remove("opacity_0")):(wrapbox3.classList.remove("active"),bgVideo.classList.remove("opacity_1"),bgVideo.classList.add("opacity_0"),bgImage.classList.remove("opacity_1"),bgImage.classList.add("opacity_0")),isFullyVisible(wrapbox4)?(wrapbox4.classList.add("active"),bgVideo.classList.add("opacity_2"),bgVideo.classList.remove("opacity_0"),bgVideo.classList.remove("opacity_1"),bgImage.classList.add("opacity_2"),bgImage.classList.remove("opacity_0"),bgImage.classList.remove("opacity_1")):(wrapbox4.classList.remove("active"),bgVideo.classList.remove("opacity_2"),bgImage.classList.remove("opacity_2")),isFullyVisible(wrapbox5)?(wrapbox5.classList.add("active"),bgVideo.classList.add("opacity_3"),bgVideo.classList.remove("opacity_0"),bgVideo.classList.remove("opacity_1"),bgVideo.classList.remove("opacity_2"),bgImage.classList.add("opacity_3"),bgImage.classList.remove("opacity_0"),bgImage.classList.remove("opacity_1"),bgImage.classList.remove("opacity_2")):(wrapbox5.classList.remove("active"),bgVideo.classList.remove("opacity_3"),bgImage.classList.remove("opacity_3")),isFullyVisible(wrapbox6)?(wrapbox6.classList.add("active"),bgVideo.classList.add("opacity_4"),bgVideo.classList.remove("opacity_0"),bgVideo.classList.remove("opacity_1"),bgVideo.classList.remove("opacity_2"),bgVideo.classList.remove("opacity_3"),bgImage.classList.add("opacity_4"),bgImage.classList.remove("opacity_0"),bgImage.classList.remove("opacity_1"),bgImage.classList.remove("opacity_2"),bgImage.classList.remove("opacity_3")):(wrapbox6.classList.remove("active"),bgVideo.classList.remove("opacity_4"),bgImage.classList.remove("opacity_4"))}function isPartiallyVisible(e){let a=e.getBoundingClientRect(),i=a.top,s=a.bottom,o=a.height;return i+o>=0&&o+window.innerHeight>=s}function isFullyVisible(e){let a=e.getBoundingClientRect(),i=a.top,s=a.bottom;return i>=0&&s<=window.innerHeight}!function(e){e(window).on("load",(function(){e("#write").mCustomScrollbar({theme:"my-theme"})}))}(jQuery),function(e){e(window).on("load",(function(){e("#textarea").mCustomScrollbar({theme:"my-theme"})}))}(jQuery),document.querySelector("#form-name").addEventListener("input",(function(){this.value=this.value.replace(/\d/gm,"").replace(/ {2,}/," ").replace(/^ {1,}/,"").replace(/[^A-Za-zА-Яа-яЁё\s]/,"").replace(/^([A-Za-zА-Яа-яЁё]+) ([A-Za-zА-Яа-яЁё]+)( {1}|)/gm,"$1 $2")})),document.querySelector("#form-phone").addEventListener("input",(function(){this.value=this.value.replace(/[^0-9]/,"")}));let formName=document.getElementById("form-name"),formPhone=document.getElementById("form-phone"),formEmail=document.getElementById("form-email"),signal1=document.querySelector(".signal1"),signal2=document.querySelector(".signal2"),signal3=document.querySelector(".signal3"),checkbox=document.querySelector(".checkbox"),sendBtnForm=document.getElementById("send-btn-form");sendBtnForm.disabled=!0;let validation={isEmailAddress:function(e){return new RegExp(/(?!(^[.-].*|[^@]*[.-]@|.*\.{2,}.*)|^.{254}.)([a-zA-Z0-9!#$%&'*+\/=?^_`{|}~.-]+@)(?!-.*|.*-\.)([a-zA-Z0-9-]{1,63}\.)+[a-zA-Z]{2,15}/).test(e)},isPhoneNumber:function(e){return new RegExp(/8[0-9]{10}/).test(e)},isNameUser:function(e){return new RegExp(/^[A-Za-zА-Яа-яЁё\s]+$/).test(e)}};function validate(){let e=validation.isNameUser(formName.value),a=validation.isEmailAddress(formEmail.value),i=validation.isPhoneNumber(formPhone.value),s=checkbox.checked;e&&a&&i&&s?(sendBtnForm.classList.add("valid-btn"),sendBtnForm.disabled=!1):(sendBtnForm.classList.remove("valid-btn"),sendBtnForm.disabled=!0)}formEmail.onblur=function(){validation.isEmailAddress(formEmail.value)?(formEmail.classList.remove("invalid"),signal3.classList.remove("span-on"),formEmail.classList.add("valid")):(formEmail.classList.remove("valid"),formEmail.classList.add("invalid"),signal3.classList.add("span-on"))},formPhone.onblur=function(){validation.isPhoneNumber(formPhone.value)?(formPhone.classList.remove("invalid"),signal2.classList.remove("span-on"),formPhone.classList.add("valid")):(formPhone.classList.remove("valid"),formPhone.classList.add("invalid"),signal2.classList.add("span-on"))},formName.onblur=function(){validation.isNameUser(formName.value)?(formName.classList.remove("invalid"),signal1.classList.remove("span-on"),formName.classList.add("valid")):(formName.classList.remove("valid"),formName.classList.add("invalid"),signal1.classList.add("span-on"))},formName.addEventListener("input",validate),formEmail.addEventListener("input",validate),formPhone.addEventListener("input",validate),checkbox.addEventListener("input",validate);