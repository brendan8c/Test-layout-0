let isScrolling=!1;function throttleScroll(e){0==isScrolling&&window.requestAnimationFrame((function(){scrolling(e),isScrolling=!1})),isScrolling=!0}window.addEventListener("scroll",throttleScroll,!1),document.addEventListener("DOMContentLoaded",scrolling,!1);let wrapbox1=document.querySelector(".wrap-box1"),wrapbox2=document.querySelector(".wrap-box2"),wrapbox3=document.querySelector(".wrap-box3"),wrapbox4=document.querySelector(".wrap-box4"),wrapbox5=document.querySelector(".wrap-box5"),bgVideo=document.querySelector(".background-video"),bgImage=document.querySelector(".background-img");function scrolling(){isFullyVisible(wrapbox1)?(wrapbox1.classList.add("active"),bgVideo.classList.add("opacity_1"),bgImage.classList.add("opacity_1"),bgVideo.classList.remove("opacity_0"),bgImage.classList.remove("opacity_0")):(wrapbox1.classList.remove("active"),bgVideo.classList.remove("opacity_1"),bgImage.classList.remove("opacity_1"),bgVideo.classList.add("opacity_0"),bgImage.classList.add("opacity_0")),isFullyVisible(wrapbox2)?(wrapbox2.classList.add("active"),bgVideo.classList.add("opacity_2"),bgImage.classList.add("opacity_2"),bgVideo.classList.remove("opacity_0"),bgVideo.classList.remove("opacity_1"),bgImage.classList.remove("opacity_0"),bgImage.classList.remove("opacity_1")):(wrapbox2.classList.remove("active"),bgVideo.classList.remove("opacity_2"),bgImage.classList.remove("opacity_2")),isFullyVisible(wrapbox3)?(wrapbox3.classList.add("active"),bgVideo.classList.add("opacity_3"),bgImage.classList.add("opacity_3"),backHat.classList.add("background_hat-true-slide1"),bgVideo.classList.remove("opacity_0"),bgVideo.classList.remove("opacity_1"),bgVideo.classList.remove("opacity_2"),bgImage.classList.remove("opacity_0"),bgImage.classList.remove("opacity_1"),bgImage.classList.remove("opacity_2")):(wrapbox3.classList.remove("active"),bgVideo.classList.remove("opacity_3"),bgImage.classList.remove("opacity_3"),backHat.classList.remove("background_hat-true-slide1")),isFullyVisible(wrapbox4)?(wrapbox4.classList.add("active"),bgVideo.classList.add("opacity_4"),bgImage.classList.add("opacity_4"),backHat.classList.add("background_hat-true-slide2"),bgVideo.classList.remove("opacity_0"),bgVideo.classList.remove("opacity_1"),bgVideo.classList.remove("opacity_2"),bgVideo.classList.remove("opacity_3"),bgImage.classList.remove("opacity_0"),bgImage.classList.remove("opacity_1"),bgImage.classList.remove("opacity_2"),bgImage.classList.remove("opacity_3"),bgVideo.classList.remove("opacity_5"),bgImage.classList.remove("opacity_5"),backHat.classList.remove("background_hat-true-slide3")):(wrapbox4.classList.remove("active"),bgVideo.classList.remove("opacity_4"),bgImage.classList.remove("opacity_4"),backHat.classList.remove("background_hat-true-slide2")),isFullyVisible(wrapbox5)?(wrapbox5.classList.add("active"),bgVideo.classList.add("opacity_5"),bgImage.classList.add("opacity_5"),backHat.classList.add("background_hat-true-slide3"),bgVideo.classList.remove("opacity_0"),bgVideo.classList.remove("opacity_1"),bgVideo.classList.remove("opacity_2"),bgVideo.classList.remove("opacity_3"),bgVideo.classList.remove("opacity_4"),bgImage.classList.remove("opacity_0"),bgImage.classList.remove("opacity_1"),bgImage.classList.remove("opacity_2"),bgImage.classList.remove("opacity_3"),bgImage.classList.remove("opacity_4")):wrapbox5.classList.remove("active")}function isPartiallyVisible(e){let a=e.getBoundingClientRect(),t=a.top,o=a.bottom,s=a.height;return t+s>=0&&s+window.innerHeight>=o}function isFullyVisible(e){let a=e.getBoundingClientRect(),t=a.top,o=a.bottom;return t>=0&&o<=window.innerHeight}document.addEventListener("DOMContentLoaded",(function(){OverlayScrollbars(document.querySelectorAll("#write"),{})})),document.addEventListener("DOMContentLoaded",(function(){OverlayScrollbars(document.querySelectorAll("#textarea"),{className:"custom-theme"})}));let btnBlur=document.querySelector(".background-btn--click"),backCenter=document.querySelector(".background_center"),btnCloseBlur=document.querySelector(".forma_blur"),BlurClose=document.getElementById("modal"),writeForm=document.getElementById("write"),classModal=document.querySelector(".modal"),backgroundHat=document.querySelector(".background-hat"),userScreen=document.body.clientWidth;function open_form(){backCenter.style.zIndex=3,btnBlur.style.zIndex=0,document.body.style.overflowY="hidden",classModal.classList.add("modal_open"),userScreen<=599&&(backgroundHat.style.zIndex=5,backgroundHat.style.backgroundColor="rgba(255,255,255,0.9)",backHat.classList.add("background_hat-true-forma"))}function closed_form(){backCenter.style.zIndex=2,btnBlur.style.zIndex=1,document.body.style.overflowY="auto",classModal.classList.remove("modal_open"),userScreen<=599&&(backgroundHat.style.backgroundColor="#00000000",backgroundHat.style.zIndex=3,backHat.classList.remove("background_hat-true-forma"))}function closed_form_blur(e){(backCenter.style.zIndex=e.target!=writeForm&&!writeForm.contains(e.target))&&(backCenter.style.zIndex=2,btnBlur.style.zIndex=1,document.body.style.overflowY="auto",classModal.classList.remove("modal_open"),userScreen<=599&&(backgroundHat.style.backgroundColor="#00000000",backgroundHat.style.zIndex=3,backHat.classList.remove("background_hat-true-forma")))}btnBlur.addEventListener("click",open_form),btnCloseBlur.addEventListener("click",closed_form),BlurClose.addEventListener("click",closed_form_blur),document.querySelector("#form-name").addEventListener("input",(function(){this.value=this.value.replace(/\d/gm,"").replace(/ {2,}/," ").replace(/^ {1,}/,"").replace(/[^A-Za-zА-Яа-яЁё\s]/,"").replace(/^([A-Za-zА-Яа-яЁё]+) ([A-Za-zА-Яа-яЁё]+)( {1}|)/gm,"$1 $2")})),document.querySelector("#form-phone").addEventListener("input",(function(){this.value=this.value.replace(/[^0-9]/,"")}));let formName=document.getElementById("form-name"),formPhone=document.getElementById("form-phone"),formEmail=document.getElementById("form-email"),validName=document.getElementById("valid_name"),validPhone=document.getElementById("valid_phone"),validEmail=document.getElementById("valid_email"),signal1=document.querySelector(".signal1"),signal2=document.querySelector(".signal2"),signal3=document.querySelector(".signal3"),checkbox=document.querySelector(".checkbox"),sendBtnForm=document.getElementById("send-btn-form");sendBtnForm.disabled=!0;let validation={isEmailAddress:function(e){return new RegExp(/(?!(^[.-].*|[^@]*[.-]@|.*\.{2,}.*)|^.{254}.)([a-zA-Z0-9!#$%&'*+\/=?^_`{|}~.-]+@)(?!-.*|.*-\.)([a-zA-Z0-9-]{1,63}\.)+[a-zA-Z]{2,15}/).test(e)},isPhoneNumber:function(e){return new RegExp(/8[0-9]{10}/).test(e)},isNameUser:function(e){return new RegExp(/^[A-Za-zА-Яа-яЁё\s]+$/).test(e)}};function validate(){let e=validation.isNameUser(formName.value),a=validation.isEmailAddress(formEmail.value),t=validation.isPhoneNumber(formPhone.value),o=checkbox.checked;e&&a&&t&&o?(sendBtnForm.classList.add("valid-btn"),sendBtnForm.disabled=!1):(sendBtnForm.classList.remove("valid-btn"),sendBtnForm.disabled=!0)}formEmail.onblur=function(){validation.isEmailAddress(formEmail.value)?(validEmail.classList.remove("invalid"),signal3.classList.remove("span-on"),validEmail.classList.add("valid")):(validEmail.classList.remove("valid"),validEmail.classList.add("invalid"),signal3.classList.add("span-on"))},formPhone.onblur=function(){validation.isPhoneNumber(formPhone.value)?(validPhone.classList.remove("invalid"),signal2.classList.remove("span-on"),validPhone.classList.add("valid")):(validPhone.classList.remove("valid"),validPhone.classList.add("invalid"),signal2.classList.add("span-on"))},formName.onblur=function(){validation.isNameUser(formName.value)?(validName.classList.remove("invalid"),signal1.classList.remove("span-on"),validName.classList.add("valid")):(validName.classList.remove("valid"),validName.classList.add("invalid"),signal1.classList.add("span-on"))},formName.addEventListener("input",validate),formEmail.addEventListener("input",validate),formPhone.addEventListener("input",validate),checkbox.addEventListener("input",validate);let Hamburger=document.querySelector(".header__menu-btn"),headerWrap=document.querySelector(".header__wrap"),backHat=document.querySelector(".background-hat");function toggleMenu(){headerWrap.classList.contains("hamburger_true")?(headerWrap.classList.remove("hamburger_true"),backHat.classList.remove("background_hat-true")):(headerWrap.classList.add("hamburger_true"),backHat.classList.add("background_hat-true"))}Hamburger.addEventListener("click",toggleMenu),headerWrap.classList.contains("hamburger_true"),backHat.classList.contains("background_hat-true");let hambTrue=document.querySelectorAll(".hamburger_true");hambTrue.forEach((function(e){e.addEventListener("click",toggleMenu)})),document.documentElement.addEventListener("touchmove",(function(e){1!==e.scale&&(e.preventDefault(),e.stopPropagation())}),!1),document.documentElement.addEventListener("touchstart",(function(e){1!==e.scale&&(e.preventDefault(),e.stopPropagation())}),!1);